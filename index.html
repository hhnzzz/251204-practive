<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>재밌고 쉬운 발명의 세계</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- 1단계: 기본 정보 입력 -->
      <section class="step step-active" data-step="1">
        <header class="app-header">
          <h1>재밌고 쉬운 발명의 세계</h1>
          <p class="subtitle">나만의 기발한 발명 아이디어를 떠올려 볼까?</p>
        </header>
        <div class="card">
          <h2>1단계. 나를 소개해요</h2>
          <div class="form-group">
            <label for="studentNumber">번호</label>
            <input id="studentNumber" name="studentNumber" type="text" placeholder="예) 5번" />
          </div>
          <div class="form-group">
            <label for="studentName">이름</label>
            <input id="studentName" name="studentName" type="text" placeholder="예) 홍길동" />
          </div>
          <div class="actions">
            <button class="btn primary" data-next>다음 단계로 가기</button>
          </div>
        </div>
      </section>

      <!-- 2단계: 불편했던 물건/경험 -->
      <section class="step" data-step="2">
        <header class="app-header">
          <h1>일상 속 불편함 찾기</h1>
          <p class="subtitle">작은 불편함이 멋진 발명의 씨앗이 돼요.</p>
        </header>
        <div class="card">
          <h2>2단계. 무엇이 불편했나요?</h2>
          <p class="question">
            일상에서 사용하다가 <strong>불편했던 물건</strong>은 무엇인가요?<br />
            또는 <strong>불편했던 경험</strong>은 무엇인가요?
          </p>
          <div class="form-group">
            <label for="problemText">불편했던 물건 또는 경험을 적어 보세요.</label>
            <textarea
              id="problemText"
              name="problemText"
              rows="5"
              placeholder="예) 가방 속 물건이 너무 뒤죽박죽 섞여서 매번 찾기 힘들어요."
            ></textarea>
          </div>
          <div class="actions">
            <button class="btn ghost" data-prev>이전</button>
            <button class="btn primary" data-next>발명 카드 뽑으러 가기</button>
          </div>
        </div>
      </section>

      <!-- 3단계: 발명 카드 뽑기 -->
      <section class="step" data-step="3">
        <header class="app-header">
          <h1>발명 카드 뽑기</h1>
          <p class="subtitle">카드가 알려주는 새로운 생각의 방법!</p>
        </header>
        <div class="card">
          <h2>3단계. 나의 발명 카드</h2>
          <p class="question">버튼을 눌러 발명 카드를 뽑아 보세요. 마음에 안 들면 다시 뽑을 수 있어요.</p>

          <div class="card-display" id="inventionCardDisplay">
            아직 카드를 뽑지 않았어요.
          </div>

          <div class="card-buttons">
            <button class="btn secondary" id="drawCardBtn">카드 뽑기</button>
            <button class="btn ghost" id="redrawCardBtn" disabled>다시 뽑기</button>
          </div>

          <ul class="card-list-hint">
            <li>더하기</li>
            <li>빼기</li>
            <li>모양 바꾸기</li>
            <li>크게 또는 작게</li>
            <li>반대로 생각하기</li>
            <li>자연물 본뜨기</li>
            <li>용도 바꾸기</li>
            <li>재료 바꾸기</li>
            <li>남의 아이디어 빌리기</li>
            <li>폐품 활용하기</li>
          </ul>

          <div class="actions">
            <button class="btn ghost" data-prev>이전</button>
            <button class="btn primary" data-next id="toStep4Btn" disabled>아이디어 떠올리러 가기</button>
          </div>
        </div>
      </section>

      <!-- 4단계: 아이디어 구상 + 구글 폼 전송 -->
      <section class="step" data-step="4">
        <header class="app-header">
          <h1>발명 아이디어 구상하기</h1>
          <p class="subtitle">조금 전 찾았던 불편함과 발명 카드를 잘 연결해 보세요.</p>
        </header>
        <div class="card">
          <h2>4단계. 나의 발명 아이디어</h2>

          <div class="summary-box">
            <h3>내가 찾은 불편함</h3>
            <p id="summaryProblem" class="summary-text">아직 작성한 내용이 없어요.</p>

            <h3>내가 뽑은 발명 카드</h3>
            <p id="summaryCard" class="summary-text">아직 카드를 뽑지 않았어요.</p>
          </div>

          <div class="form-group">
            <label for="ideaText">발명 아이디어 구상하기</label>
            <textarea
              id="ideaText"
              name="ideaText"
              rows="6"
              placeholder="예) 가방 안에 여러 개의 투명 파우치를 넣어서, 물건 종류별로 나눠 보관할 수 있는 가방을 만든다. &#10;- 더하기 카드: 파우치들을 더해서 한 가방 안에 넣기!"
            ></textarea>
          </div>

          <p class="encourage">
            여기까지 잘 해냈어요! 👏<br />
            지금까지 정리한 내용을 선생님께 보내고,<br />
            <strong>이제 진짜 발명을 시작해 볼까요?</strong>
          </p>

          <p class="encourage small">
            작은 아이디어도 괜찮아요. <strong>틀려도 괜찮고, 엉뚱해도 괜찮아요.</strong><br />
            여러분의 생각 하나하나가 세상을 더 편리하고 즐겁게 만들 수 있어요! 🌈
          </p>

          <!-- 실제 구글 폼 연동용 폼 -->
          <!-- 아래 form의 action에 구글 폼 "응답 제출" URL을 넣어 주세요. -->
          <!-- 각 input/textarea의 name 값을 구글 폼의 entry.xxx... 값에 맞게 바꾸면 됩니다. -->
          <form
            id="googleForm"
            method="POST"
            target="_self"
            action="https://docs.google.com/forms/d/e/1FAIpQLSfVmtcR1Dvdh5MKjV8-nTIhdSG_IvfghoYWh956mOHny4w2pg/formResponse"
          >
            <!-- 실제로 전송될 숨겨진 필드들 (자바스크립트가 값 채움) -->
            <input type="hidden" name="entry.670944922" id="gf_studentNumber" />
            <input type="hidden" name="entry.260370643" id="gf_studentName" />
            <input type="hidden" name="entry.1436421567" id="gf_problemText" />
            <input type="hidden" name="inventionCard" id="gf_inventionCard" />
            <input type="hidden" name="entry.399385104" id="gf_ideaText" />

            <div class="actions">
              <button class="btn ghost" data-prev type="button">이전</button>
              <button class="btn primary" type="submit" id="submitBtn">
                선생님께 아이디어 보내기
              </button>
            </div>
          </form>

          <p class="footer-message hidden" id="postSubmitMessage">
            아이디어를 보낸 뒤에는, 지금 적은 내용을 바탕으로<br />
            <strong>실제로 만들거나, 그림으로 그리거나, 모형으로 표현해 보아요!</strong><br />
            선생님과 친구들이 여러분의 멋진 발명을 응원하고 있어요! 💡✨
          </p>
        </div>
      </section>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
